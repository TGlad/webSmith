saveChanges?description=A+camera+is+what+captures+an+image%2C+to+send+to+a+screen+to+render&wikilink=&init=in.objects+%3D+%5B%5D%3B%0D%0A%0D%0Avar+tm+%3D+new+Transform%28new+Quaternion%280%2C0%2C0%2C1%29%2C+new+Vector3%28parameters.position%29%29%3B%0D%0AtopState.frustum+%3D+new+Frustum%28tm%2C+parameters.frustumGradientX%2C+parameters.frustumGradientY%2C+1%2C+10000%29%3B%0D%0AbackOut.frustum+%3D+topState.frustum%3B%0D%0Adown.picture+%3D+%7B%7D%3B%0D%0A%0D%0AbaseState.screen+%3D+parameters.screen%3B%0D%0AoutDest.picture+%3D+%7Bpointer%3AbaseState.screen.in%2C+name%3A%27picture%27%7D%3B%0D%0A%0D%0Aparameters.scene.addCamera%28this%29%3B%0D%0A%0D%0Athis.attachToBody+%3D+function%28body%29%0D%0A%7B%0D%0A++inSource.transform+%3D+%7Bpointer%3Abody.topState%2C+name%3A%27transform%27%7D%3B+%2F%2F+see+how+it+connects+in+to+the+internals+of+the+body%0D%0A%7D&receive=down.picture.objects+%3D+in.objects%3B%0D%0Aif+%28in.transform%29%0D%0A++topState.frustum.update%28in.transform%29%3B%0D%0Adown.picture.frustum+%3D+topState.frustum%3B%0D%0A&reply=backOut.frustum+%3D+topState.frustum%3B&predict=&react=&generate=for+%28key+in+down%29%0D%0A++out%5Bkey%5D+%3D+down%5Bkey%5D%3B%0D%0Aout.picture.draw+%3D+function%28ctx%29%0D%0A%7B%0D%0A++%2F%2F+add+a+light%2C+this+needs+to+be+generalised+of+course%0D%0A++Direction+lightDirection+%3D+new+Vector3%280%2C+1%2C+1%29%3B%0D%0A++lightDirection.normalise%28%29%3B%0D%0A++%2F%2F+if+camera+is+attached+to+something+then+add+in+this+transform%0D%0A++for+%28i+in+this.objects%29%0D%0A++%7B%0D%0A++++ctx.uniform3f%28ctx.getUniformLocation%28this.objects%5Bi%5D.renderType%2C+%22lightDir%22%29%2C+lightDirection.x%2C+lightDirection.y%2C+lightDirection.z%29%3B%0D%0A++++ctx.uniform1i%28ctx.getUniformLocation%28this.objects%5Bi%5D.renderType%2C+%22sampler2d%22%29%2C+0%29%3B%0D%0A++++ctx.useProgram%28this.objects%5Bi%5D.renderType%29%3B%0D%0A++++this.objects%5Bi%5D.draw%28ctx%2C+this.objects%5Bi%5D.transform%2C+this.frustum.matrix%29%3B%0D%0A++%7D%0D%0A%7D&analyse=&save+as=Camera