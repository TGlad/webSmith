saveChanges?description=hand+control+using+the+keyboard+as+input.+Usual+case+will+be+arrow+keys+plus+shift%2Cctrl+to+produce+hand+movement%2C+grabbing%2C+dragging+and+rotating+of+objects&wikilink=&init=backInSource.keysPressed+%3D+%7Bpointer%3Aparameters.keyboard.backOut%2C+name%3A%27keysPressed%27%7D%3B%0D%0AbackInSource.keysDown+%3D+%7Bpointer%3Aparameters.keyboard.backOut%2C+name%3A%27keysDown%27%7D%3B%0D%0AoutDest.transform+%3D+%7Bpointer%3Aparameters.parent.baseState%2C+name%3A%27leftHandTransform%27%7D%3B%0D%0AbackOutDest.canMove+%3D+%7Bpointer%3Aparameters.owner.backIn%2C+name%3A%27canMove%27%7D%3B%0D%0AbaseState.otherKeyPressedWhileMoveDown+%3D+false%3B%0D%0AbaseState.otherKeyPressedWhileGrabDown+%3D+false%3B%0D%0A%0D%0ATimePeriod+baseState.timeMoveDownFor+%3D+0+seconds%3B%0D%0AbaseState.canMove+%3D+false%3B%0D%0AbaseState.moveLock+%3D+false%3B%0D%0A%0D%0ATimePeriod+baseState.timeGrabDownFor+%3D+0+seconds%3B%0D%0AbaseState.grabbing+%3D+false%3B%0D%0AbaseState.grabLock+%3D+false%3B%0D%0AbaseState.twisting+%3D+false%3B%0D%0A%0D%0APosition+baseState.pos+%3D+new+Vector3%28parameters.startPos%29%3B%0D%0A%0D%0Aout.transform+%3D+new+Transform%28%29%3B%0D%0AbaseState.pitch+%3D+0%3B%0D%0AbaseState.roll+%3D+0%3B%0D%0AbaseState.timeMoveDownFor+%3D+0%3B%0D%0AbaseState.timeMoveGrabFor+%3D+0%3B%0D%0A&receive=&reply=backOut.canMove+%3D+not+up.canMove%3B+%2F%2F+the+owner+only+moves+when+the+hand+doesn%27t+move&predict=&react=if+%28up.moveDown%29+%2F%2F+Shift%0D%0A%7B%0D%0A++baseState.timeMoveDownFor+%2B%3D+timeStep%3B%0D%0A++baseState.canMove+%3D+not+baseState.moveLock%3B%0D%0A%7D%0D%0Aelse%0D%0A%7B%0D%0A++if+%28baseState.timeMoveDownFor+%3E+0+%26%26+baseState.timeMoveDownFor+%3C+0.5+%26%26+%21baseState.otherKeyPressedWhileMoveDown%29%0D%0A++++baseState.moveLock+%3D+not+baseState.moveLock%3B+%2F%2F+toggle+it+off+and+on%0D%0A++baseState.otherKeyPressedWhileMoveDown+%3D+false%3B%0D%0A++baseState.timeMoveDownFor+%3D+0%3B%0D%0A++baseState.canMove+%3D+baseState.moveLock%3B%0D%0A%7D%0D%0A%0D%0Aif+%28up.grabDown%29+%2F%2F+Ctrl%0D%0A%7B%0D%0A++baseState.timeGrabDownFor+%2B%3D+timeStep%3B%0D%0A++baseState.grabbing+%3D+true%3B%0D%0A++if+%28baseState.grabLock%29%0D%0A++++baseState.twisting+%3D+true%3B%0D%0A%7D%0D%0Aelse%0D%0A%7B%0D%0A++if+%28baseState.timeGrabDownFor+%3E+0+%26%26+baseState.timeGrabDownFor+%3C+0.5+%26%26+%21baseState.otherKeyPressedWhileGrabDown%29%0D%0A++++baseState.grabLock+%3D+not+baseState.grabLock%3B+%2F%2F+toggle+it+off+and+on%0D%0A++baseState.otherKeyPressedWhileGrabDown+%3D+false%3B%0D%0A++baseState.timeGrabDownFor+%3D+0%3B%0D%0A++baseState.grabbing+%3D+baseState.grabLock%3B%0D%0A++baseState.twisting+%3D+false%3B%0D%0A%7D%0D%0Aif+%28baseState.canMove%29%0D%0A%7B%0D%0A++AngularVelocity+turnSpeed+%3D+1.5+radians+per+second%3B%0D%0A++Velocity+moveSpeed+%3D+0.33+metres+per+second%3B%0D%0A++if+%28baseState.grabbing%29%0D%0A++++baseState.pos.z+%3D+2%3B%0D%0A++else%0D%0A++++baseState.pos.z+%3D+1.5%3B%0D%0A++if+%28baseState.twisting%29+%0D%0A++%7B%0D%0A++++baseState.roll++%2B%3D+turnSpeed+*+up.rightDirection+*+timeStep%3B%0D%0A++++baseState.pitch+%2B%3D+turnSpeed+*+up.upDirection+*+timeStep%3B%0D%0A++%7D%0D%0A++else%0D%0A++%7B%0D%0A++++baseState.pos.x+-%3D+moveSpeed+*+up.rightDirection+*+timeStep%3B%0D%0A++++baseState.pos.y+%2B%3D+moveSpeed+*+up.upDirection+*+timeStep%3B%0D%0A++%7D%0D%0A%7D&generate=%2F%2F+position+is+scaled+by+z+as+we+follow+a+frustum+view%0D%0Aout.transform.pos.set%28baseState.pos%29%3B%0D%0A%0D%0A%2F%2F+set+orientation+%28pitch+it+then+roll+it%29%0D%0AOrientation+roll+%3D+new+Quaternion%280%2C+0%2C+baseState.roll%29%3B%0D%0AOrientation+pitch+%3D+new+Quaternion%28baseState.pitch%2C+0%2C+0%29%3B%0D%0Aout.transform.quat+%3D+roll+.*+pitch%3B%0D%0A%0D%0A&analyse=up.canMove+%3D+baseState.canMove%3B%0D%0Aup.rightDirection+%3D+backIn.keysDown%5B39%5D+%3F+1+%3A+%28backIn.keysDown%5B37%5D+%3F+-1%3A+0%29%3B%0D%0Aup.upDirection+%3D+backIn.keysDown%5B38%5D+%3F+1+%3A+%28backIn.keysDown%5B40%5D+%3F+-1%3A+0%29%3B%0D%0Aup.moveDown+%3D+backIn.keysDown%5B16%5D%3B+%2F%2F+shift%0D%0Aup.grabDown+%3D+backIn.keysDown%5B17%5D%3B+%2F%2F+ctrl%0D%0Aif+%28up.moveDown%29%0D%0A%7B%0D%0A++if+%28up.rightDirection+or+up.upDirection%29%0D%0A++++baseState.otherKeyPressedWhileMoveDown+%3D+true%3B%0D%0A%7D%0D%0Aif+%28up.grabDown%29%0D%0A%7B%0D%0A++if+%28up.rightDirection+or+up.upDirection%29%0D%0A++++baseState.otherKeyPressedWhileGrabDown+%3D+true%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A&save+as=HandKeyboardUserControl