saveChanges?description=stores+and+sends+data+relating+to+the+user%27s+mouse+position+and+button+presses&wikilink=&init=%2F%2F+position%0D%0AtopState.mouseX+%3D+0%3B%0D%0AtopState.mouseY+%3D+0%3B%0D%0AtopState.deltaX+%3D+0%3B%0D%0AtopState.deltaY+%3D+0%3B%0D%0A%0D%0A%2F%2F+buttons%0D%0AtopState.leftButtonPressed+%3D+false%3B%0D%0AtopState.middleButtonPressed+%3D+false%3B%0D%0AtopState.rightButtonPressed+%3D+false%3B%0D%0AtopState.leftButtonDown+%3D+false%3B%0D%0AtopState.middleButtonDown+%3D+false%3B%0D%0AtopState.rightButtonDown+%3D+false%3B%0D%0A%0D%0AbackInSource.screenMinX+%3D+%7Bpointer%3A+parameters.screen.backOut%2C+name%3A%27screenMinX%27%7D%3B%0D%0AbackInSource.screenMinY+%3D+%7Bpointer%3A+parameters.screen.backOut%2C+name%3A%27screenMinY%27%7D%3B%0D%0AbackInSource.screenWidth+%3D+%7Bpointer%3A+parameters.screen.backOut%2C+name%3A%27screenWidth%27%7D%3B%0D%0AbackInSource.screenHeight+%3D+%7Bpointer%3A+parameters.screen.backOut%2C+name%3A%27screenHeight%27%7D%3B%0D%0A%0D%0A%2F%2F+define+the+mouse+event%2C+later+g_mouse+will+be+passed+in+I+think%0D%0Ag_mouse.onMouseDown+%3D+function%28event%29%0D%0A%7B%0D%0A++if+%28event.button+%3D%3D+0%29%0D%0A++++topState.leftButtonDown+%3D+true%3B%0D%0A++else+if+%28event.button+%3D%3D+1%29%0D%0A++++topState.middleButtonDown+%3D+true%3B%0D%0A++else+if+%28event.button+%3D%3D+2%29%0D%0A++++topState.rightButtonDown+%3D+true%3B%0D%0A%7D%0D%0Ag_mouse.onMouseUp+%3D+function%28event%29%0D%0A%7B%0D%0A++if+%28event.button+%3D%3D+0%29%0D%0A++++topState.leftButtonDown+%3D+false%3B%0D%0A++else+if+%28event.button+%3D%3D+1%29%0D%0A++++topState.middleButtonDown+%3D+false%3B%0D%0A++else+if+%28event.button+%3D%3D+2%29%0D%0A++++topState.rightButtonDown+%3D+false%3B%0D%0A%7D%0D%0Ag_mouse.onMouseMove+%3D+function%28event%29%0D%0A%7B%0D%0A++var+curX+%3D+event.clientX%3B%0D%0A++var+curY+%3D+event.clientY%3B%0D%0A++topState.deltaX+%3D+%28topState.mouseX+-+curX%29%3B%0D%0A++topState.deltaY+%3D+%28topState.mouseY+-+curY%29%3B%0D%0A++topState.mouseX+%3D+curX%3B%0D%0A++topState.mouseY+%3D+curY%3B%0D%0A%7D&receive=&reply=%2F%2F+mouse+position%2C+normalised+to+-1+to+1%0D%0AbackOut.mouseX+%3D+1+-+2*%28topState.mouseX-up.screenMinX%29%2Fup.screenWidth%3B%0D%0AbackOut.mouseY+%3D+1+-+2*%28topState.mouseY-up.screenMinY%29%2Fup.screenHeight%3B%0D%0AbackOut.deltaX+%3D+-2*topState.deltaX%2Fup.screenWidth%3B%3B%0D%0AbackOut.deltaY+%3D+-2*topState.deltaY%2Fup.screenHeight%3B%0D%0A%0D%0A%2F%2F+mouse+buttons%0D%0AbackOut.leftButtonDown+++%3D+topState.leftButtonDown%3B%0D%0AbackOut.middleButtonDown+%3D+topState.middleButtonDown%3B%0D%0AbackOut.rightButtonDown++%3D+topState.rightButtonDown%3B%0D%0A%0D%0AbackOut.leftButtonPressed+++%3D+topState.leftButtonDown+++and+not+topState.leftButtonDownLast%3B%0D%0AbackOut.middleButtonPressed+%3D+topState.middleButtonDown+and+not+topState.middleButtonDownLast%3B%0D%0AbackOut.rightButtonPressed++%3D+topState.rightButtonDown++and+not+topState.rightButtonDownLast%3B%0D%0A%0D%0AtopState.leftButtonDownLast+%3D+topState.leftButtonDown%3B%0D%0AtopState.middleButtonDownLast+%3D+topState.middleButtonDown%3B%0D%0AtopState.rightButtonDownLast+%3D+topState.rightButtonDown%3B%0D%0A%0D%0A&predict=&react=&generate=&analyse=for+%28key+in+backIn%29%0D%0A++up%5Bkey%5D+%3D+backIn%5Bkey%5D%3B%0D%0A&save+as=MouseInput